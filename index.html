<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>
            Project: Rock Paper Scissors
        </title>
        <link rel="stylesheet" href="main.css">
    </head>
    <body>
        
        <div class="container">
            <h1>Choose Your Weapon</h1>
            <div>
                <button id="rock">
                    <img src="pictures/rock.png" alt="rock">
                </button>
                <button id="scissors">
                    <img src="pictures/scissors.png" alt="scissors">
                </button>
                <button id="paper">
                    <img src="pictures/paper.png" alt="paper">
                </button>
            </div>
            <div id="result">

            </div>
            <button id="again">Wanna play one more time?</button>
        </div>
        <script>
            const tools = ["rock", "scissors","paper"];
            let scorePlayer = 0;
            let scoreComp = 0;
            function playRound(playerSelection){
                computerSelection = tools[Math.floor(Math.random()*(2-0+1))+0];
                if (tools.indexOf(playerSelection)-tools.indexOf(computerSelection)==-1||playerSelection=="Paper"&&computerSelection=="Rock"){
                    scorePlayer+=1;
                    if (scorePlayer==5){
                        return `You win! ${playerSelection} beats ${computerSelection}; ${scorePlayer}:${scoreComp}\nYou are winner of this game!`;
                    }
                    return `You win! ${playerSelection} beats ${computerSelection}; ${scorePlayer}:${scoreComp}`;
                }
                else if (playerSelection == computerSelection){
                    return `No winner! Both have ${playerSelection}; ${scorePlayer}:${scoreComp}`;
                }
                else{
                    scoreComp+=1;
                    if (scoreComp==5){
                        return `You lose! ${computerSelection} beats ${playerSelection}; ${scorePlayer}:${scoreComp}\nComputer is a winner!`;
                    }
                    return `You lose! ${computerSelection} beats ${playerSelection}; ${scorePlayer}:${scoreComp}`;
                }
            }
            const result = document.querySelector('#result');
            const choices = document.querySelectorAll('button');
            let textResult = ''
            choices.forEach(choice=>choice.addEventListener('click',function(){
                 textResult = textResult + playRound(choice.id)+'\n';
                 result.textContent = textResult;
            }));
            const again = document.querySelector('#again');
            again.addEventListener('click',function(){
                scorePlayer = 0;
                scoreComp = 0;
                textResult = '';
                result.textContent = '';
            });
        </script>
        <!--previous task
        <script>
            const tools = ["Rock", "Scissors","Paper"];
            function game(){
                let score = 0;
                function computerPlay(){
                    let i = Math.floor(Math.random()*(2-0+1))+0;
                    return tools[i];
                }
                function gameRound(playerSelection, computerSelection){
                    playerSelection = playerSelection[0].toUpperCase()+playerSelection.slice(1).toLowerCase();
                    if (tools.indexOf(playerSelection)-tools.indexOf(computerSelection)==-1||playerSelection=="Paper"&&computerSelection=="Rock"){
                        score+=1;
                        return `You win! ${playerSelection} beats ${computerSelection}`;
                    }
                    else if (playerSelection == computerSelection){
                        return `No winner! Both have ${playerSelection}`;
                    }
                    else{
                        return `You lose! ${computerSelection} beats ${playerSelection}`;
                    }
                }
                for (let i=1;i<=5;i++){
                    let playerSelection = prompt("Your weapon: ");
                    console.log(gameRound(playerSelection, computerPlay()));
                }
                if (score>=3){
                    return 'You are the winner!';
                }
                return 'You lose';
            }
            console.log(game());

        </script>-->
    </body>
</html>